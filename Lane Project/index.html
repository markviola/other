<!DOCTYPE html>
<html>
<header>
	<meta charset="utf-8"/>
	<title>Photo Editor</title>
	<link rel="stylesheet" href="main.css"/>
	<script src="assets/react-0.14.7/build/react.js"></script>
	<script src="assets/react-0.14.7/build/react-dom.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"ï»¿></script>
</header>

<body>
	<div class="header">
		<h1>PHOTO EDITOR</h1>
	</div>

	<div id="main" class="main"></div>

	<script type="text/babel">
		var mainBodyStyle = {
			background: "#757575",
			margin: "2%",
			padding: "2%",
			width: "90%",
			height: "700px"
		};

		var buttonSectionStyle = {
			width: "50%",
			height: "100%",
			float: "right"
		};

		var innerBodyPictureStyle = {
			background: "#757575",
			width: "40%",
			height: "80%",
			float: "left"
		};

		var imageStyle = {
			background: "#FFFFFF",
			height: "85%",
			width: "75%",
			margin: "5%",
			float: "center"
		};

		var innerBodyInputStyle = {
			background: "#757575",
			width: "40%",
			height: "20%",
			position: "relative",
			bottom: "0px",
			float: "bottom"
		};

		var innerBodyButtonStyle = {
			background: "#757575",
			width: "50%",
			height: "80%",
			float: "right"
		};

		var buttonHeaders = {
			background: "#757575",
			color: "#CFD8DC",
			height: "10%"
		};

		var buttonStyle = {
			background: "#FFFFFF",
			width: "75%",
			height: "18%",
			margin: "2%"
		};

		var buttonStyleInvis = {
			background: "#FFFFFF",
			width: "75%",
			height: "18%",
			margin: "2%",
			visibility: "hidden"
		};

		var resetButtonStyle = {
			background: "#FFFFFF",
			height: "10%",
			width: "50%",
			margin: "3%",
			position: "relative",
			bottom: "0px"
		};

		var MainComponent = React.createClass({

			propTypes: {
				name : React.PropTypes.string,
				rotatePressed : React.PropTypes.bool,
				translatePressed : React.PropTypes.bool,
				opacityPressed : React.PropTypes.bool,
				scalePressed : React.PropTypes.bool
			},

			_availRotateButton: function(){
				console.log('rotate clicked');
				rotate.style.visibility = "hidden";
				appliedRotate.style.visibility = "visible";
				image.style.transform = image.style.transform + " rotate(45deg)";
			},

			_availTranslateButton: function(){
				console.log('translate clicked');
				translate.style.visibility = "hidden";
				appliedTranslate.style.visibility = "visible";
				image.style.transform = image.style.transform + "translate(-40px)";
			},

			_availScaleButton: function(){
				console.log('scale clicked');
				scale.style.visibility = "hidden";
				appliedScale.style.visibility = "visible";
				image.style.height = "42.5%";
				image.style.width = "37.5%";
			},

			_availOpacityButton: function(){
				console.log('opacity clicked');
				opacity.style.visibility = "hidden";
				appliedOpacity.style.visibility = "visible";
				image.style.opacity = "0.5";
			},

			_resetButton: function(){
				console.log('reset clicked');
				rotate.style.visibility = "visible";
				translate.style.visibility = "visible";
				scale.style.visibility = "visible";
				opacity.style.visibility = "visible";
				appliedRotate.style.visibility = "hidden";
				appliedTranslate.style.visibility = "hidden";
				appliedScale.style.visibility = "hidden";
				appliedOpacity.style.visibility = "hidden";

				image.style.transform = "";
				image.style.height = "85%";
				image.style.width = "75%";
				image.style.opacity = "1.0";

				image.src = "";
			},

			_submitButton: function(){
				var fReader = new FileReader();
				fReader.readAsDataURL(fileToUpload.files[0]);

				fReader.onloadend = function(event){
					image.src = event.target.result;
				}
			},

			_addByOne: function(){
				console.log('clicked');
			},


			getDefaultProps: function(){
				return {
					name: 'Guy',
					rotatePressed: false,
					translatePressed: false,
					opacityPressed: false,
					scalePressed: false
				}
			},

			render: function() {
				var otherVar = this.props.name

				return (
					<div style={mainBodyStyle}>
						<div style={innerBodyPictureStyle}> 
							<img id="image" style={imageStyle}/>
							<form id="imageForm">
								<input type="file" name="fileToUpload" id="fileToUpload"/>
							</form>
							<button id="submit" style={resetButtonStyle} onClick={this._submitButton}>Submit</button>
						</div>

						<div style={buttonSectionStyle}>
							<div style={innerBodyButtonStyle} id="applied">
								<h2 style={buttonHeaders}>Applied Actions</h2>
								<button id="appliedRotate" style={buttonStyleInvis}>Rotate</button>
								<button id="appliedTranslate" style={buttonStyleInvis} >Translate</button>
								<button id="appliedScale" style={buttonStyleInvis}>Scale</button>
								<button id="appliedOpacity" style={buttonStyleInvis}>Opacity</button>
							</div>
							<div style={innerBodyButtonStyle} id="available">
								<h2 style={buttonHeaders}>Available Actions</h2>
								<button id="rotate" style={buttonStyle} onClick={this._availRotateButton}>Rotate</button>
								<button id="translate" style={buttonStyle} onClick={this._availTranslateButton}>Translate</button>
								<button id="scale" style={buttonStyle} onClick={this._availScaleButton}>Scale</button>
								<button id="opacity" style={buttonStyle} onClick={this._availOpacityButton}>Opacity</button>
							</div>
							<button id="reset" style={resetButtonStyle} onClick={this._resetButton}>Reset</button>
						</div>
					</div>
				)
			}
		});

		ReactDOM.render(
			<MainComponent name="Guy" />,
			document.getElementById('main')
		);
	</script>

	<div class="footer">
		<p>Check me out on GitHub @<a href="http://www.github.com/markviola">markviola</a></p>
	</div>

</body>
</html>